<!--extends file called base.html-->
{% extends "base.html" %}

<!--head of web page-->
{% block head %}

<head>
  <link rel="stylesheet" href = "https://cdnjs.cloudflare.com/ajax/libs/skeleton/2.0.4/skeleton.css">
</head>

<!--end of head-->
{% endblock %}

<!--body of web page-->
{% block body %}

<div class="container-fluid">

{% set noImageArray = [] %}
{% set count = 0 %}

{% for article in articles %}

{% set imgURL = article['photo_url'] %}
{% set articleName = article['title'] %}
{% set articleAuthor = article['author'] %}
{% set articleContent = article['content'] %}
{% set articleURL = article['url'] %}

{% if imgURL is not none %}

<div class="card" style="width: 20rem;">
  <img class="card-img-top" src={{imgURL}}>
  <div class="card-body">
    <h5 class="card-title"><a href="{{articleURL}}">{{articleName}}</a></h5>
  </div>
</div>

<!--<img class="articleImage" src= {{imgURL}}>
<br><br>
<a href="{{articleURL}}">{{articleName}}</a>
<br><br>-->

{% else %}

<!-- add card to the More in US Headlines card-->
<!--<script> noImage({{articleName}}, {{articleURL}}) </script>-->

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

<script>
  $(document).ready(function(){
    /*document.getElementById("list").append('<li class="list-group-item">New list item</li>');*/
    $("#list").append('<li class="list-group-item"><a href="{{articleURL}}">{{articleName}}</a></li>');
  });
</script>

<!--div class="card" style="width: 20rem;">
  <div class="card-body">
    <h5 class="card-title"><a href="{{articleURL}}">{{articleName}}</a></h5>
  </div>
</div>-->

<!--<p>{{title}}</p>
<p>Author: {{author}}</p>
<p>Content Preview: {{content}}</p>
<p>This article does not include an image :)</p>
<a href="{{articleURL}}">{{articleName}}</a>
<br><br>-->

{% endif %}

{% endfor %}

<div class="card" style="width: 18rem;">
  <div class="card-header">
    More from US Headlines
  </div>
  <ul id="list" class="list-group list-group-flush">
  </ul>
</div>
<br><br>

<!--end of body-->
{% endblock %}

<!--fix this function-->
<script>

function noImage(title, link) {
  var ul = document.getElementById("list");
  var li = document.createElement("li");
  li.appendChild(document.createTextNode("hi"));
  ul.appendChild(li);
}

</script>
